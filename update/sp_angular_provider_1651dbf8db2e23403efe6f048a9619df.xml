<?xml version="1.0" encoding="UTF-8"?><record_update table="sp_angular_provider">
    <sp_angular_provider action="INSERT_OR_UPDATE">
        <name>ngAbeVariableUnit</name>
        <script><![CDATA[function ngAbeVariableUnit() {

    function ngAbeVariableUnitLink (scope, elem, attr, ctrl) {
        ctrl[0].resetProcessor = function resetProcessor (val) {
            scope.stageValue = parseUnit(val);
            return val;
        };

        scope.stageValue = parseUnit(ctrl[0].value);
    }

    function ngAbeVariableUnitCtrl ($scope) {

        $scope.units = ['px', 'em', 'vh', 'rem'];

        $scope.change = function () {
            let val = $scope.stageValue.value + $scope.stageValue.unit;
            $scope.save(val);
        };
    }

    function parseUnit(val) {
        let re = /(?:([\d\.]*)(\D*))/g;
        let match = re.exec(val);

        return {
            value: match[1],
            unit: match[2]
        };
    }

    return {
        templateUrl: 'ng-abe-variable-unit',
        require: ['^^ngAbeItem', '^^ngAbeVariable'],
        link: ngAbeVariableUnitLink,
        controller: ngAbeVariableUnitCtrl
    };
}]]></script>
        <sys_class_name>sp_angular_provider</sys_class_name>
        <sys_created_by>dylan.lindgren</sys_created_by>
        <sys_created_on>2018-12-21 00:23:14</sys_created_on>
        <sys_id>1651dbf8db2e23403efe6f048a9619df</sys_id>
        <sys_mod_count>79</sys_mod_count>
        <sys_name>ngAbeVariableUnit</sys_name>
        <sys_package display_value="Advanced Branding Editor" source="x_si_abe">d5e53253db21230022757d9ebf9619b4</sys_package>
        <sys_policy/>
        <sys_scope display_value="Advanced Branding Editor">d5e53253db21230022757d9ebf9619b4</sys_scope>
        <sys_update_name>sp_angular_provider_1651dbf8db2e23403efe6f048a9619df</sys_update_name>
        <sys_updated_by>dylan.lindgren</sys_updated_by>
        <sys_updated_on>2019-01-08 00:13:55</sys_updated_on>
        <type>directive</type>
    </sp_angular_provider>
</record_update>
